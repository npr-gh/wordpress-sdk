<div x-data="WordproofSDK.settings()" id="wordproof_settings_form" x-cloak xmlns:x-on="http://www.w3.org/1999/xhtml"
     xmlns:x-bind="http://www.w3.org/1999/xhtml">
    <div id="wordproof-popup-wrapper" x-show="show" @showsettings.window="open()">
        <div class="wordproof-popup-overflow" x-on:click="close()"></div>
        <div class="wordproof-popup-content-wrapper">
            <div class="wordproof-popup-content-wrapper-content">
                <iframe id="settings-iframe" class="wordproof-popup-content-wrapper-content-loader"
                        x-bind:src="iframeUrl"></iframe>
            </div>
            <div class="wordproof-popup-content-wrapper-close" x-cloak x-on:click="close()">
                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-prefix="far"
                     data-icon="times-circle" class="svg-inline--fa fa-times-circle fa-w-16" role="img"
                     viewBox="0 0 512 512">
                    <path fill="currentColor"
                          d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"/>
                </svg>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

    WordproofSDK.settings = function () {
        return {
            sourceId: null,
            show: false,
            iframeUrl: "",
            close: function () {
                this.show = false;
                this.iframeUrl = "";
            },
            open: function () {
                this.show = true;
                this.iframeUrl = this.url();
            },
            url: function () {
                return "/wp-admin/admin-ajax.php?action=wordproof_settings_form";
            }
        }
    }

</script>

<style>
    .wordproof-popup-content-wrapper-content iframe {
        width: 100%;
        height: 100%;
    }

    .wordproof-popup-content-wrapper-content-loader {
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='margin: auto; display: block;shape-rendering: auto;' width='200px' height='200px' viewBox='0 0 100 100' preserveAspectRatio='xMidYMid'%3E%3Ccircle cx='50' cy='50' fill='none' stroke='%232bdec6' stroke-width='10' r='35' stroke-dasharray='164.93361431346415 56.97787143782138'%3E%3CanimateTransform attributeName='transform' type='rotate' repeatCount='indefinite' dur='1s' values='0 50 50;360 50 50' keyTimes='0;1'/%3E%3C/circle%3E%3C!-- %5Bldio%5D generated by https://loading.io/ --%3E%3C/svg%3E") center center no-repeat;
    }
</style>
